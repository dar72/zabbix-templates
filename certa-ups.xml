<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>7.0</version>
    <template_groups>
        <template_group>
            <uuid>3dcd5bbe90534f9e8eb5c2d53756af63</uuid>
            <name>Templates/Power</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>3ec55c9966624ef5bc1b50502812d581</uuid>
            <template>Certa UPS by SNMP</template>
            <name>Certa UPS by SNMP</name>
            <description>Template for various models of Certa UPS</description>
            <vendor>
                <name>Zabbix</name>
                <version>7.0-0</version>
            </vendor>
            <groups>
                <group>
                    <name>Templates/Power</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>96898d48b27946bfa9a623d7d0b028be</uuid>
                    <name>Battery capacity</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.1.0</snmp_oid>
                    <key>battery.capacity[upsHighPrecBatteryCapacity]</key>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>MIB: PowerNet-MIB
The remaining battery capacity expressed as
 percentage of full capacity.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>aa0bbfb321d440438fb421825f23e140</uuid>
                            <expression>last(/Certa UPS by SNMP/battery.capacity[upsHighPrecBatteryCapacity]) &lt; {$BATTERY.CAPACITY.MIN.WARN}</expression>
                            <name>Battery has low capacity</name>
                            <event_name>Battery has low capacity (below {$BATTERY.CAPACITY.MIN.WARN}%)</event_name>
                            <opdata>Current capacity: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>capacity</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>390e33a7623d41d2a8a67752c6d5c733</uuid>
                    <name>External battery packs count</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.2.5.0</snmp_oid>
                    <key>battery.external_packs_count[upsAdvBatteryNumOfBattPacks]</key>
                    <delay>1h</delay>
                    <description>MIB: PowerNet-MIB
The number of external battery packs connected to the UPS. If
 the UPS does not use smart cells then the agent reports
 ERROR_NO_SUCH_NAME.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>inventory</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3d69adaa88e64b8084d38c1482815bf2</uuid>
                    <name>Battery last replace date</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.1.3.0</snmp_oid>
                    <key>battery.last_replace_date[upsBasicBatteryLastReplaceDate]</key>
                    <delay>1h</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: PowerNet-MIB
The date when the UPS system's batteries were last replaced
 in mm/dd/yy (or yyyy) format. For Smart-UPS models, this value
 is originally set at the factory. When the UPS batteries
 are replaced, this value should be reset by the administrator.
 For Symmetra PX 250/500 this OID is read-only and is configurable in the local display only.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>inventory</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eb74b3671b4d4335ad92bd3b027547b0</uuid>
                    <name>Battery replace indicator</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.2.4.0</snmp_oid>
                    <key>battery.replace_indicator[upsAdvBatteryReplaceIndicator]</key>
                    <description>MIB: PowerNet-MIB
Indicates whether the UPS batteries need replacement.</description>
                    <valuemap>
                        <name>PowerNet-MIB::upsAdvBatteryReplaceIndicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>7e40918732e74b5e8bd854422989e77d</uuid>
                            <expression>last(/Certa UPS by SNMP/battery.replace_indicator[upsAdvBatteryReplaceIndicator])=2</expression>
                            <name>Battery needs replacement</name>
                            <priority>HIGH</priority>
                            <description>A battery installed has an internal error condition.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>f52a3e2ae08c4b2996249c5601b4098d</uuid>
                    <name>Battery runtime remaining</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.2.3.0</snmp_oid>
                    <key>battery.runtime_remaining[upsAdvBatteryRunTimeRemaining]</key>
                    <value_type>FLOAT</value_type>
                    <units>s</units>
                    <description>MIB: PowerNet-MIB
The UPS battery run time remaining before battery
 exhaustion.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f4106603e47e40548592d60a7b8b3148</uuid>
                    <name>Battery status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.1.1.0</snmp_oid>
                    <key>battery.status[upsBasicBatteryStatus]</key>
                    <description>MIB: PowerNet-MIB
The status of the UPS batteries. A batteryLow(3) value
 indicates the UPS will be unable to sustain the current
 load, and its services will be lost if power is not restored.
 The amount of run time in reserve at the time of low battery
 can be configured by the upsAdvConfigLowBatteryRunTime.
 A batteryInFaultCondition(4)value indicates that a battery
 installed has an internal error condition.</description>
                    <valuemap>
                        <name>PowerNet-MIB::upsBasicBatteryStatus</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>7ae03f3f307b4f11ad2bc0548911cbd3</uuid>
                            <expression>last(/Certa UPS by SNMP/battery.status[upsBasicBatteryStatus])=4</expression>
                            <name>Battery has an internal error condition</name>
                            <priority>AVERAGE</priority>
                            <description>A battery installed has an internal error condition.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>1282326bb61d45d88671bbbde3fab8ff</uuid>
                            <expression>last(/Certa UPS by SNMP/battery.status[upsBasicBatteryStatus])=3</expression>
                            <name>Battery is Low</name>
                            <priority>AVERAGE</priority>
                            <description>The UPS will be unable to sustain the current load, and its services will be lost if power is not restored.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>capacity</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>7c35a9646eed4e4581edc51d42a9604c</uuid>
                    <name>Battery temperature</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.2.0</snmp_oid>
                    <key>battery.temperature[upsHighPrecBatteryTemperature]</key>
                    <value_type>FLOAT</value_type>
                    <units>℃</units>
                    <description>MIB: PowerNet-MIB
The current internal UPS temperature in Celsius.
Temperatures below zero read as 0.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>temperature</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>36a14fe061d1433e9875373307a4e0f4</uuid>
                            <expression>min(/Certa UPS by SNMP/battery.temperature[upsHighPrecBatteryTemperature],{$TIME.PERIOD}) &gt; {$BATTERY.TEMP.MAX.WARN}</expression>
                            <name>Battery has high temperature</name>
                            <event_name>Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})</event_name>
                            <opdata>Current temperature: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>b78d2e9160c74f328b8123ba2031d7bf</uuid>
                    <name>Battery voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.4.0</snmp_oid>
                    <key>battery.voltage[upsHighPrecBatteryActualVoltage]</key>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>MIB: PowerNet-MIB
The actual battery bus voltage in Volts.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6ce40beab0b44248868652b0ed543afc</uuid>
                    <name>Input fail cause</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.3.2.5.0</snmp_oid>
                    <key>input.fail[upsAdvInputLineFailCause]</key>
                    <description>MIB: PowerNet-MIB
The reason for the occurrence of the last transfer to UPS
battery power.  The variable is set to:
- noTransfer(1) -- if there is no transfer yet.
- highLineVoltage(2) -- if the transfer to battery is caused
by an over voltage greater than the high transfer voltage.
- brownout(3) -- if the duration of the outage is greater than
five seconds and the line voltage is between 40% of the
rated output voltage and the low transfer voltage.
- blackout(4) -- if the duration of the outage is greater than five
seconds and the line voltage is between 40% of the rated
output voltage and ground.
- smallMomentarySag(5) -- if the duration of the outage is less
than five seconds and the line voltage is between 40% of the
rated output voltage and the low transfer voltage.
- deepMomentarySag(6) -- if the duration of the outage is less
than five seconds and the line voltage is between 40% of the
rated output voltage and ground.  The variable is set to
- smallMomentarySpike(7) -- if the line failure is caused by a
rate of change of input voltage less than ten volts per cycle.
- largeMomentarySpike(8) -- if the line failure is caused by
a rate of change of input voltage greater than ten volts per cycle.
- selfTest(9) -- if the UPS was commanded to do a self test.
- rateOfVoltageChange(10) -- if the failure is due to the rate of change of
the line voltage.</description>
                    <valuemap>
                        <name>PowerNet-MIB::upsAdvInputLineFailCause</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2c0b565f2b6a44a2a91cc61fd220f056</uuid>
                    <name>Input frequency</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.3.3.4.0</snmp_oid>
                    <key>input.frequency[upsHighPrecInputFrequency]</key>
                    <value_type>FLOAT</value_type>
                    <units>Hz</units>
                    <description>MIB: PowerNet-MIB
The current input frequency to the UPS system in Hz.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>1ddd2699b87f452a8893f75f805c0a81</uuid>
                            <expression>min(/Certa UPS by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) &gt; 0 and (min(/Certa UPS by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) &gt; {$UPS.INPUT_FREQ.MAX.WARN} or max(/Certa UPS by SNMP/input.frequency[upsHighPrecInputFrequency],{$TIME.PERIOD}) &lt; {$UPS.INPUT_FREQ.MIN.WARN})</expression>
                            <name>Unacceptable input frequency</name>
                            <event_name>Unacceptable input frequency (out of range {$UPS.INPUT_FREQ.MIN.WARN}-{$UPS.INPUT_FREQ.MAX.WARN}Hz for {$TIME.PERIOD})</event_name>
                            <opdata>Current frequency: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>de84a2fbbb464023a7b73e01895a9e9d</uuid>
                    <name>Input voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.3.3.1.0</snmp_oid>
                    <key>input.voltage[upsHighPrecInputLineVoltage]</key>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>MIB: PowerNet-MIB
The current utility line voltage in VAC.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>f6527c4fed3d41168be23f9367f18405</uuid>
                            <expression>min(/Certa UPS by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) &gt; 0 and (min(/Certa UPS by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) &gt; {$UPS.INPUT_VOLT.MAX.WARN} or max(/Certa UPS by SNMP/input.voltage[upsHighPrecInputLineVoltage],{$TIME.PERIOD}) &lt; {$UPS.INPUT_VOLT.MIN.WARN})</expression>
                            <name>Unacceptable input voltage</name>
                            <event_name>Unacceptable input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})</event_name>
                            <opdata>Current voltage: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a332c87a948045beae13f74984245b86</uuid>
                    <name>Output current</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.4.3.4.0</snmp_oid>
                    <key>output.current[upsHighPrecOutputCurrent]</key>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <description>MIB: PowerNet-MIB
The current in amperes drawn by the load on the UPS.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c17c7fd7e6504592869dc14c4a002254</uuid>
                    <name>Output load</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.4.3.3.0</snmp_oid>
                    <key>output.load[upsHighPrecOutputLoad]</key>
                    <value_type>FLOAT</value_type>
                    <units>%</units>
                    <description>MIB: PowerNet-MIB
The current UPS load expressed as percentage
of rated capacity.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>ebef08a42d1e47ffa82ea586c1a5b3d6</uuid>
                            <expression>min(/Certa UPS by SNMP/output.load[upsHighPrecOutputLoad],{$TIME.PERIOD}) &gt; {$UPS.OUTPUT.MAX.WARN}</expression>
                            <name>Output load is high</name>
                            <event_name>Output load is high (over {$UPS.OUTPUT.MAX.WARN}% for {$TIME.PERIOD})</event_name>
                            <opdata>Current load: {ITEM.LASTVALUE1}</opdata>
                            <priority>HIGH</priority>
                            <description>A battery installed has an internal error condition.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>0ae99a18a5c24fb0b812353d25459e1f</uuid>
                    <name>Output status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.4.1.1.0</snmp_oid>
                    <key>output.status[upsBasicOutputStatus]</key>
                    <description>MIB: PowerNet-MIB
The current state of the UPS. If the UPS is unable to
 determine the state of the UPS this variable is set
 to unknown(1).
During self-test most UPSes report onBattery(3) but
 some that support it will report onBatteryTest(15).
 To determine self-test status across all UPSes, refer
 to the upsBasicStateOutputState OID.</description>
                    <valuemap>
                        <name>PowerNet-MIB::upsBasicOutputStatus</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>c0e0b1db9a1f41379c340c122426778d</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=16</expression>
                            <name>UPS is Emergency Static Bypass</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>381a6a75d9084ff1bfcc30b6870a2682</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=10</expression>
                            <name>UPS is Hardware Failure Bypass</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>da75b5277ceb423fac8d90b58d49c21f</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=7</expression>
                            <name>UPS is Off</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>b0330f707fc64605934ed95233bd2246</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=3</expression>
                            <name>UPS is on battery</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>f8d75a2fdb6942e6b63831d206c78e56</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=4</expression>
                            <name>UPS is on Smart Boost</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>8eb59b4873e14acfa8e05791ed30c9d1</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=12</expression>
                            <name>UPS is On Smart Trim</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>e06247b357b849d3ad1886f797705320</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=8</expression>
                            <name>UPS is Rebooting</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>9b4424babc284dcabfb44dc725c03f40</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=11</expression>
                            <name>UPS is Sleeping Until Power Return</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>9ac2faafee484894bb304da02d6ab0b2</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=6</expression>
                            <name>UPS is Software Bypass</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>ce16d33b10e74b129d22378f96ede052</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=9</expression>
                            <name>UPS is Switched Bypass</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>aa84fc5fd4434101a481481beb616a7c</uuid>
                            <expression>last(/Certa UPS by SNMP/output.status[upsBasicOutputStatus])=5</expression>
                            <name>UPS is Timed Sleeping</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>37d7eda5664c4ae2b4a126c60a8eb40b</uuid>
                    <name>Output voltage</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.4.3.1.0</snmp_oid>
                    <key>output.voltage[upsHighPrecOutputVoltage]</key>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <description>MIB: PowerNet-MIB
The output voltage of the UPS system in VAC.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.1</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>power</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2c52ba1a964a40e1b4a75582ee6ad43b</uuid>
                    <name>SNMP traps (fallback)</name>
                    <type>SNMP_TRAP</type>
                    <key>snmptrap.fallback</key>
                    <delay>0</delay>
                    <value_type>LOG</value_type>
                    <trends>0</trends>
                    <description>The item is used to collect all SNMP traps unmatched by other snmptrap items</description>
                    <logtimefmt>hh:mm:sszyyyy/MM/dd</logtimefmt>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>299e4e11e0374888877e1dc386409726</uuid>
                    <name>System contact details</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
                    <key>system.contact[sysContact.0]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: SNMPv2-MIB
The textual identification of the contact person for this managed
node, together with information on how to contact this person.  If no contact
information is known, the value is the zero-length string.</description>
                    <inventory_link>CONTACT</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ed42f6f2d8c24176b53f38e0a857a129</uuid>
                    <name>System description</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
                    <key>system.descr[sysDescr.0]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: SNMPv2-MIB
A textual description of the entity. This value should
include the full name and version identification of the system's hardware type, software operating-system, and
networking software.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>12h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b3d5eea37f934efdac4885bcadc73b9b</uuid>
                    <name>Uptime (hardware)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.25.1.1.0</snmp_oid>
                    <key>system.hw.uptime[hrSystemUptime.0]</key>
                    <delay>30s</delay>
                    <trends>0</trends>
                    <units>uptime</units>
                    <description>MIB: HOST-RESOURCES-MIB
The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.</description>
                    <preprocessing>
                        <step>
                            <type>CHECK_NOT_SUPPORTED</type>
                            <parameters>
                                <parameter>-1</parameter>
                            </parameters>
                            <error_handler>CUSTOM_VALUE</error_handler>
                            <error_handler_params>0</error_handler_params>
                        </step>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>445d7a843340424ab7c09ab001d5865c</uuid>
                    <name>System location</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
                    <key>system.location[sysLocation.0]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: SNMPv2-MIB
The physical location of this node (e.g., `telephone closet, 3rd floor').  If the location is unknown, the value is the zero-length string.</description>
                    <inventory_link>LOCATION</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6030dbee3cc24dbeb15e4b802e89cbc8</uuid>
                    <name>Model</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.1.1.1.0</snmp_oid>
                    <key>system.model[upsBasicIdentModel]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: PowerNet-MIB
The UPS model name (e.g. 'APC Smart-UPS 600').</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>inventory</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>45a80892f41b411e8457f99b069b59ee</uuid>
                    <name>System name</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>system.name[sysName.0]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: SNMPv2-MIB
An administratively-assigned name for this managed node.By
convention, this is the node's fully-qualified domain name.  If the name is unknown,
the value is the zero-length string.</description>
                    <inventory_link>NAME</inventory_link>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>facbfd1f8bb04401b563c162d7fe13a5</uuid>
                            <expression>last(/Certa UPS by SNMP/system.name[sysName.0],#1)&lt;&gt;last(/Certa UPS by SNMP/system.name[sysName.0],#2) and length(last(/Certa UPS by SNMP/system.name[sysName.0]))&gt;0</expression>
                            <name>System name has changed</name>
                            <event_name>System name has changed (new name: {ITEM.VALUE})</event_name>
                            <priority>INFO</priority>
                            <description>The name of the system has changed. Acknowledge to close the problem manually.</description>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>notice</value>
                                </tag>
                                <tag>
                                    <tag>scope</tag>
                                    <value>security</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>701fa778bc03444aad94343d0dbe048e</uuid>
                    <name>Uptime (network)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>system.net.uptime[sysUpTime.0]</key>
                    <delay>30s</delay>
                    <trends>0</trends>
                    <units>uptime</units>
                    <description>MIB: SNMPv2-MIB
The time (in hundredths of a second) since the network management portion of the system was last re-initialized.</description>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <parameters>
                                <parameter>0.01</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6780faad9fc9492f9f92915db5161e43</uuid>
                    <name>System object ID</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.2.1.1.2.0</snmp_oid>
                    <key>system.objectid[sysObjectID.0]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: SNMPv2-MIB
The vendor's authoritative identification of the network management
subsystem contained in the entity.  This value is allocated within the SMI enterprises
subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what
kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was
assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1
to its `Fred Router'.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>system</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1df309508ac9433397f88120b2895451</uuid>
                    <name>Serial number</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>1.3.6.1.4.1.318.1.1.1.1.2.3.0</snmp_oid>
                    <key>system.sn[upsAdvIdentSerialNumber]</key>
                    <delay>15m</delay>
                    <value_type>CHAR</value_type>
                    <trends>0</trends>
                    <description>MIB: PowerNet-MIB
An 8-character string identifying the serial number of
 the UPS internal microprocessor.  This number is set at
 the factory.  NOTE: This number does NOT correspond to
 the serial number on the rear of the UPS.</description>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>inventory</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ca3275f69f3c4e7c9c71108451c0b64f</uuid>
                    <name>SNMP agent availability</name>
                    <type>INTERNAL</type>
                    <key>zabbix[host,snmp,available]</key>
                    <description>Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
Possible values:
0 - not available
1 - available
2 - unknown</description>
                    <valuemap>
                        <name>zabbix.host.available</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                            <parameters>
                                <parameter>6h</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <tags>
                        <tag>
                            <tag>component</tag>
                            <value>health</value>
                        </tag>
                        <tag>
                            <tag>component</tag>
                            <value>network</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>4572d871f1d944bb855b93fdc6de5e88</uuid>
                            <expression>max(/Certa UPS by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0</expression>
                            <name>No SNMP data collection</name>
                            <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
                            <priority>WARNING</priority>
                            <description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
                            <tags>
                                <tag>
                                    <tag>scope</tag>
                                    <value>availability</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>52345d2975214002bdd05a24e43484a8</uuid>
                    <name>External bad battery packs discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#EXTERNAL_PACKS},1.3.6.1.4.1.318.1.1.1.2.2.6]</snmp_oid>
                    <key>battery.packs.bad.discovery</key>
                    <delay>1h</delay>
                    <description>Discovery of the number of external defective battery packs.</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>c4dccc96218448d696952f6ea5d1f24b</uuid>
                            <name>{#SNMPINDEX}: External battery packs bad</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.2.6.0</snmp_oid>
                            <key>battery.external_packs_bad[upsAdvBatteryNumOfBadBattPacks.{#SNMPINDEX}]</key>
                            <delay>15m</delay>
                            <description>MIB: PowerNet-MIB
The number of external battery packs connected to the UPS that
are defective. If the UPS does not use smart cells then the
agent reports ERROR_NO_SUCH_NAME.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>inventory</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>f7eb1c82c6694e72b7d28ba4d71d8741</uuid>
                    <name>External battery packs discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#CARTRIDGE_STATUS},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7,{#BATTERY_PACK},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.1,{#CARTRIDGE_INDEX},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.2]</snmp_oid>
                    <key>battery.packs.discovery</key>
                    <delay>1h</delay>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#CARTRIDGE_STATUS}</macro>
                                <value>^$</value>
                                <operator>NOT_MATCHES_REGEX</operator>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>a168ef9da6504b31a8234b272f1a1a80</uuid>
                            <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery estimated replace date</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.8.{#SNMPINDEX}</snmp_oid>
                            <key>battery.estimated_replace_date[upsHighPrecBatteryPackCartridgeReplaceDate.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]</key>
                            <delay>1h</delay>
                            <value_type>CHAR</value_type>
                            <trends>0</trends>
                            <description>MIB: PowerNet-MIB
The battery cartridge estimated battery replace date.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>inventory</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>fd71d1ceaf524aeaac38de5f63d101fd</uuid>
                            <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery pack cartridge health</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>battery.pack.cartridge_health[upsHighPrecBatteryPackCartridgeHealth.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]</key>
                            <value_type>CHAR</value_type>
                            <trends>0</trends>
                            <description>MIB: PowerNet-MIB
The battery cartridge health.
  bit 0 Battery lifetime okay
  bit 1 Battery lifetime near end, order replacement cartridge
  bit 2 Battery lifetime exceeded, replace battery
  bit 3 Battery lifetime near end acknowledged, order replacement cartridge
  bit 4 Battery lifetime exceeded acknowledged, replace battery
  bit 5 Battery measured lifetime near end, order replacement cartridge
  bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>health</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>a248194aa30645c5918278b83944b20e</uuid>
                                    <expression>find(/Certa UPS by SNMP/battery.pack.cartridge_health[upsHighPrecBatteryPackCartridgeHealth.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],,&quot;regexp&quot;,&quot;^(0)[0|1]{15}$&quot;)=1</expression>
                                    <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery lifetime is not okay</name>
                                    <opdata>Current bit set: {ITEM.LASTVALUE1}</opdata>
                                    <priority>WARNING</priority>
                                    <description>The battery cartridge health.
  bit 0 Battery lifetime okay
  bit 1 Battery lifetime near end, order replacement cartridge
  bit 2 Battery lifetime exceeded, replace battery
  bit 3 Battery lifetime near end acknowledged, order replacement cartridge
  bit 4 Battery lifetime exceeded acknowledged, replace battery
  bit 5 Battery measured lifetime near end, order replacement cartridge
  bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>fa05e062413a4c1fba4d35e3006b91f4</uuid>
                            <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.10.{#SNMPINDEX}</snmp_oid>
                            <key>battery.pack.status[upsHighPrecBatteryPackCartridgeStatus.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]</key>
                            <value_type>CHAR</value_type>
                            <trends>0</trends>
                            <description>MIB: PowerNet-MIB
The battery cartridge status.
bit 0 Disconnected
bit 1 Overvoltage
bit 2 NeedsReplacement
bit 3 OvertemperatureCritical
bit 4 Charger
bit 5 TemperatureSensor
bit 6 BusSoftStart
bit 7 OvertemperatureWarning
bit 8 GeneralError
bit 9 Communication
bit 10 DisconnectedFrame
bit 11 FirmwareMismatch</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>health</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>834b1a48cbab46a3bfb0209fb4302674</uuid>
                                    <expression>find(/Certa UPS by SNMP/battery.pack.status[upsHighPrecBatteryPackCartridgeStatus.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],,&quot;regexp&quot;,&quot;^(0{16})$&quot;)=0</expression>
                                    <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status is not okay</name>
                                    <opdata>Current bit set: {ITEM.LASTVALUE1}</opdata>
                                    <priority>WARNING</priority>
                                    <description>The battery cartridge status:
bit 0 Disconnected
bit 1 Overvoltage
bit 2 NeedsReplacement
bit 3 OvertemperatureCritical
bit 4 Charger
bit 5 TemperatureSensor
bit 6 BusSoftStart
bit 7 OvertemperatureWarning
bit 8 GeneralError
bit 9 Communication
bit 10 DisconnectedFrame
bit 11 FirmwareMismatch</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>017347865030426e9dde74e9bcf38c76</uuid>
                            <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery temperature</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>battery.temperature[upsHighPrecBatteryPackTemperature.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>℃</units>
                            <description>MIB: PowerNet-MIB
The current internal UPS temperature in Celsius.
Temperatures below zero read as 0.</description>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>0.1</parameter>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>temperature</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>80f084121d56464f90e4a3ef9e198889</uuid>
                                    <expression>min(/Certa UPS by SNMP/battery.temperature[upsHighPrecBatteryPackTemperature.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}],{$TIME.PERIOD}) &gt; {$BATTERY.TEMP.MAX.WARN}</expression>
                                    <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery has high temperature</name>
                                    <event_name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})</event_name>
                                    <opdata>Current temperature: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>354c1d6766d6453caeb382cf7ede7951</uuid>
                            <name>{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Serial number</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>system.sn[upsHighPrecBatteryPackSerialNumber.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]</key>
                            <delay>15m</delay>
                            <value_type>CHAR</value_type>
                            <trends>0</trends>
                            <description>MIB: PowerNet-MIB
The battery pack serial number.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>inventory</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>457169b3c43846739614a6ddc7155fda</uuid>
                    <name>External sensor port 1 discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#EXTERNAL_SENSOR1_NAME},1.3.6.1.4.1.318.1.1.25.1.2.1.3]</snmp_oid>
                    <key>external.sensor1.discovery</key>
                    <delay>1h</delay>
                    <description>uioSensorStatusTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>ee017a632ee944fe9122e21fa7e7531f</uuid>
                            <name>{#EXTERNAL_SENSOR1_NAME}: Humidity sensor</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.humidity[uioSensorStatusHumidity.1.{#SNMPINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <description>MIB: PowerNet-MIB
The sensor's current humidity reading - a relative humidity
 percentage. -1 indicates an invalid reading due to either a
 sensor that doesn't read humidity or lost communications.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>humidity</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>0431cf0a54b449c9b77623b69629920f</uuid>
                            <name>{#EXTERNAL_SENSOR1_NAME}: Sensor alarm status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}]</key>
                            <description>MIB: PowerNet-MIB
The alarm status of the sensor. Possible values:
uioNormal                 (1),
uioWarning                (2),
uioCritical               (3),
sensorStatusNotApplicable (4)</description>
                            <valuemap>
                                <name>PowerNet-MIB::uioSensorStatusAlarmStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>health</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>3a40f3cb0a3b411697fe8d37f82404d4</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=3</expression>
                                    <name>{#EXTERNAL_SENSOR1_NAME}: Sensor has status Critical</name>
                                    <priority>HIGH</priority>
                                    <description>The external sensor has returned a value greater than the critical threshold.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>63ba879a2a324ffc958b761f2010ac8e</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=4</expression>
                                    <name>{#EXTERNAL_SENSOR1_NAME}: Sensor has status Not Applicable</name>
                                    <priority>INFO</priority>
                                    <description>The external sensor does not work or is not connected.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>dc90cd795879495fa473b71a2ff57b49</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}])=2</expression>
                                    <name>{#EXTERNAL_SENSOR1_NAME}: Sensor has status Warning</name>
                                    <priority>AVERAGE</priority>
                                    <description>The external sensor has returned a value greater than the warning threshold.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>6de4920e4e87418884a82ff8b40a46ab</uuid>
                            <name>{#EXTERNAL_SENSOR1_NAME}: Temperature sensor</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.temperature[uioSensorStatusTemperatureDegC.1.{#SNMPINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>℃</units>
                            <description>MIB: PowerNet-MIB
The sensor's current temperature reading in Celsius.
 -1 indicates an invalid reading due to lost communications.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>temperature</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                    <overrides>
                        <override>
                            <name>Temp</name>
                            <step>1</step>
                            <filter>
                                <conditions>
                                    <condition>
                                        <macro>{#EXTERNAL_SENSOR1_NAME}</macro>
                                        <value>Temp</value>
                                        <formulaid>A</formulaid>
                                    </condition>
                                </conditions>
                            </filter>
                            <operations>
                                <operation>
                                    <operationobject>ITEM_PROTOTYPE</operationobject>
                                    <operator>LIKE</operator>
                                    <value>Humidity</value>
                                    <discover>NO_DISCOVER</discover>
                                </operation>
                            </operations>
                        </override>
                    </overrides>
                </discovery_rule>
                <discovery_rule>
                    <uuid>06a853147fe646659d066fff34f67faa</uuid>
                    <name>External sensor port 2 discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#EXTERNAL_SENSOR2_NAME},1.3.6.1.4.1.318.1.1.25.1.2.2.3]</snmp_oid>
                    <key>external.sensor2.discovery</key>
                    <delay>1h</delay>
                    <description>uioSensorStatusTable</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>3417b035a4f14ce3992e10029674de8e</uuid>
                            <name>{#EXTERNAL_SENSOR2_NAME}: Humidity sensor</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.2.7.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.humidity[uioSensorStatusHumidity.2.{#SNMPINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <description>MIB: PowerNet-MIB
The sensor's current humidity reading - a relative humidity
 percentage. -1 indicates an invalid reading due to either a
 sensor that doesn't read humidity or lost communications.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>humidity</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>d04af1687eb846d18b57af04ab1b594b</uuid>
                            <name>{#EXTERNAL_SENSOR2_NAME}: Sensor alarm status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.2.9.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}]</key>
                            <description>MIB: PowerNet-MIB
The alarm status of the sensor. Possible values:
uioNormal                 (1),
uioWarning                (2),
uioCritical               (3),
sensorStatusNotApplicable (4)</description>
                            <valuemap>
                                <name>PowerNet-MIB::uioSensorStatusAlarmStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>health</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>8a62bc38e49e4779938c45839a190856</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=3</expression>
                                    <name>{#EXTERNAL_SENSOR2_NAME}: Sensor has status Critical</name>
                                    <priority>HIGH</priority>
                                    <description>The external sensor has returned a value greater than the critical threshold.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>ca02e8f92e134dce9834bd1d6f3ab469</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=4</expression>
                                    <name>{#EXTERNAL_SENSOR2_NAME}: Sensor has status Not Applicable</name>
                                    <priority>INFO</priority>
                                    <description>The external sensor does not work or is not connected.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>36ad29900db7410782daeddb9d7c648f</uuid>
                                    <expression>last(/Certa UPS by SNMP/external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}])=2</expression>
                                    <name>{#EXTERNAL_SENSOR2_NAME}: Sensor has status Warning</name>
                                    <priority>AVERAGE</priority>
                                    <description>The external sensor has returned a value greater than the warning threshold.</description>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>bbf611aad1454b38ad39fa258239394a</uuid>
                            <name>{#EXTERNAL_SENSOR2_NAME}: Temperature sensor</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.25.1.2.2.6.{#SNMPINDEX}</snmp_oid>
                            <key>external.sensor.temperature[uioSensorStatusTemperatureDegC.2.{#SNMPINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>℃</units>
                            <description>MIB: PowerNet-MIB
The sensor's current temperature reading in Celsius.
 -1 indicates an invalid reading due to lost communications.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                                <tag>
                                    <tag>component</tag>
                                    <value>temperature</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                    <overrides>
                        <override>
                            <name>Temp</name>
                            <step>1</step>
                            <filter>
                                <conditions>
                                    <condition>
                                        <macro>{#EXTERNAL_SENSOR2_NAME}</macro>
                                        <value>Temp</value>
                                        <formulaid>A</formulaid>
                                    </condition>
                                </conditions>
                            </filter>
                            <operations>
                                <operation>
                                    <operationobject>ITEM_PROTOTYPE</operationobject>
                                    <operator>LIKE</operator>
                                    <value>Humidity</value>
                                    <discover>NO_DISCOVER</discover>
                                </operation>
                            </operations>
                        </override>
                    </overrides>
                </discovery_rule>
                <discovery_rule>
                    <uuid>16e8b3b4d38040a7961b1de4c18a4ea9</uuid>
                    <name>Input phases discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.2.3.1.2.1.1]</snmp_oid>
                    <key>input.phases.discovery</key>
                    <delay>1h</delay>
                    <description>The input phase identifier. OID upsPhaseInputPhaseIndex.1.1</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>a1b8277cd1b248348263c233ab05fd4f</uuid>
                            <name>{#PHASEINDEX}: Phase input current</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.{#PHASEINDEX}</snmp_oid>
                            <key>phase.input.current[upsPhaseInputCurrent.1.1.{#PHASEINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>A</units>
                            <description>MIB: PowerNet-MIB
The input current in 0.1 amperes, or -0.1 if it's
 unsupported by this UPS.</description>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>0.1</parameter>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>40c05eaf739540979d11787a694cb8c9</uuid>
                            <name>{#PHASEINDEX}: Phase input voltage</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.{#PHASEINDEX}</snmp_oid>
                            <key>phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>V</units>
                            <description>MIB: PowerNet-MIB
The input voltage in VAC, or -1 if it's unsupported
 by this UPS.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>63c623a2a9af44f38388a17742c87486</uuid>
                                    <expression>min(/Certa UPS by SNMP/phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) &gt; {$UPS.INPUT_VOLT.MAX.WARN} or max(/Certa UPS by SNMP/phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) &lt; {$UPS.INPUT_VOLT.MIN.WARN}</expression>
                                    <name>{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} input voltage</name>
                                    <event_name>{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})</event_name>
                                    <opdata>Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <uuid>ba649e1239384e3e8ebe6ae29394aecb</uuid>
                    <name>Output phases discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.3.3.1.2.1.1]</snmp_oid>
                    <key>output.phases.discovery</key>
                    <delay>1h</delay>
                    <description>The output phase identifier. OID upsPhaseOutputPhaseIndex.1.1</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>cfdded918e444958b5c592efae76b96e</uuid>
                            <name>{#PHASEINDEX}: Phase output current</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.{#PHASEINDEX}</snmp_oid>
                            <key>phase.output.current[upsPhaseOutputCurrent.1.1.{#PHASEINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>A</units>
                            <description>MIB: PowerNet-MIB
The output current in 0.1 amperes drawn
 by the load on the UPS, or -1 if it's unsupported
 by this UPS.</description>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>0.1</parameter>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>262d5cf179e64a2596edd86adc5570e3</uuid>
                            <name>{#PHASEINDEX}: Phase output load, %</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.9.3.3.1.10.1.1.{#PHASEINDEX}</snmp_oid>
                            <key>phase.output.load.percent[upsPhaseOutputPercentLoad.1.1.{#PHASEINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>%</units>
                            <description>MIB: PowerNet-MIB
The percentage of the UPS load capacity in VA at
 redundancy @ (n + x) presently being used on this
 output phase, or -1 if it's unsupported by this UPS.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>ab38f845f0e448f0b3638f6728cbf5bf</uuid>
                            <name>{#PHASEINDEX}: Phase output voltage</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.{#PHASEINDEX}</snmp_oid>
                            <key>phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}]</key>
                            <value_type>FLOAT</value_type>
                            <units>V</units>
                            <description>MIB: PowerNet-MIB
The output voltage in VAC, or -1 if it's unsupported
 by this UPS.</description>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>6h</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>component</tag>
                                    <value>power</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>feeb23a58ccb4ec1bed9d61f5d2ffc9e</uuid>
                                    <expression>min(/Certa UPS by SNMP/phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) &gt; {$UPS.INPUT_VOLT.MAX.WARN} or max(/Certa UPS by SNMP/phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}],{$TIME.PERIOD}) &lt; {$UPS.INPUT_VOLT.MIN.WARN}</expression>
                                    <name>{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} output voltage</name>
                                    <event_name>{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} output voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})</event_name>
                                    <opdata>Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}</opdata>
                                    <priority>HIGH</priority>
                                    <tags>
                                        <tag>
                                            <tag>scope</tag>
                                            <value>notice</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <tags>
                <tag>
                    <tag>class</tag>
                    <value>power</value>
                </tag>
                <tag>
                    <tag>target</tag>
                    <value>apc</value>
                </tag>
            </tags>
            <macros>
                <macro>
                    <macro>{$BATTERY.CAPACITY.MIN.WARN}</macro>
                    <value>50</value>
                    <description>Minimum battery capacity percentage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$BATTERY.TEMP.MAX.WARN}</macro>
                    <value>55</value>
                    <description>Maximum battery temperature for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$SNMP.TIMEOUT}</macro>
                    <value>5m</value>
                    <description>The time interval for SNMP agent availability trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$TIME.PERIOD}</macro>
                    <value>15m</value>
                    <description>Time period for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_FREQ.MAX.WARN}</macro>
                    <value>50.3</value>
                    <description>Maximum input frequency for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_FREQ.MIN.WARN}</macro>
                    <value>49.7</value>
                    <description>Minimum input frequency for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_VOLT.MAX.WARN}</macro>
                    <value>243</value>
                    <description>Maximum input voltage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.INPUT_VOLT.MIN.WARN}</macro>
                    <value>197</value>
                    <description>Minimum input voltage for trigger expression.</description>
                </macro>
                <macro>
                    <macro>{$UPS.OUTPUT.MAX.WARN}</macro>
                    <value>80</value>
                    <description>Maximum output load in % for trigger expression.</description>
                </macro>
            </macros>
            <dashboards>
                <dashboard>
                    <uuid>1cd6a60d856944429e04ce20d5714e88</uuid>
                    <name>APC UPS: General</name>
                    <pages>
                        <page>
                            <name>APC UPS: General</name>
                            <widgets>
                                <widget>
                                    <type>graph</type>
                                    <name>Voltage</name>
                                    <width>36</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Certa UPS by SNMP</host>
                                                <name>APC UPS: Voltage</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>AAAAA</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>graph</type>
                                    <name>Capacity of the UPS batteries</name>
                                    <y>5</y>
                                    <width>36</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Certa UPS by SNMP</host>
                                                <name>APC UPS: Capacity of the UPS batteries</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>AAAAC</value>
                                        </field>
                                    </fields>
                                </widget>
                                <widget>
                                    <type>graph</type>
                                    <name>Output</name>
                                    <x>36</x>
                                    <width>36</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>GRAPH</type>
                                            <name>graphid.0</name>
                                            <value>
                                                <host>Certa UPS by SNMP</host>
                                                <name>APC UPS: Output</name>
                                            </value>
                                        </field>
                                        <field>
                                            <type>STRING</type>
                                            <name>reference</name>
                                            <value>AAAAB</value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
            </dashboards>
            <valuemaps>
                <valuemap>
                    <uuid>a808aadebf964e0cb6b8724bf1165013</uuid>
                    <name>PowerNet-MIB::uioSensorStatusAlarmStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Normal</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Warning</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Critical</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>Not applicable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>731b036e41d147ba81bfcfb7e99b561b</uuid>
                    <name>PowerNet-MIB::upsAdvBatteryReplaceIndicator</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>no Battery Needs Replacing</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>battery Needs Replacing</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>f310a0bceb06404d9daee67ab578e4b8</uuid>
                    <name>PowerNet-MIB::upsAdvInputLineFailCause</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>no Transfer</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>High Line Voltage</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Brownout</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>Blackout</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>Small Momentary Sag</newvalue>
                        </mapping>
                        <mapping>
                            <value>6</value>
                            <newvalue>Deep Momentary Sag</newvalue>
                        </mapping>
                        <mapping>
                            <value>7</value>
                            <newvalue>Small Momentary Spike</newvalue>
                        </mapping>
                        <mapping>
                            <value>8</value>
                            <newvalue>Large Momentary Spike</newvalue>
                        </mapping>
                        <mapping>
                            <value>9</value>
                            <newvalue>Self Test</newvalue>
                        </mapping>
                        <mapping>
                            <value>10</value>
                            <newvalue>Rate of Voltage Change</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>795c75c652124ad282bad3dfd50b8e39</uuid>
                    <name>PowerNet-MIB::upsBasicBatteryStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Unknown</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Normal</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>Low</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>In Fault Condition</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>c536d9dc64724643a9291c9b601b1eac</uuid>
                    <name>PowerNet-MIB::upsBasicOutputStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Unknown</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>Online</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>On Battery</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>On Smart Boost</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>Timed Sleeping</newvalue>
                        </mapping>
                        <mapping>
                            <value>6</value>
                            <newvalue>Software Bypass</newvalue>
                        </mapping>
                        <mapping>
                            <value>7</value>
                            <newvalue>Off</newvalue>
                        </mapping>
                        <mapping>
                            <value>8</value>
                            <newvalue>Rebooting</newvalue>
                        </mapping>
                        <mapping>
                            <value>9</value>
                            <newvalue>Switched Bypass</newvalue>
                        </mapping>
                        <mapping>
                            <value>10</value>
                            <newvalue>Hardware Failure Bypass</newvalue>
                        </mapping>
                        <mapping>
                            <value>11</value>
                            <newvalue>Sleeping Until Power Return</newvalue>
                        </mapping>
                        <mapping>
                            <value>12</value>
                            <newvalue>On Smart Trim</newvalue>
                        </mapping>
                        <mapping>
                            <value>13</value>
                            <newvalue>Eco Mode</newvalue>
                        </mapping>
                        <mapping>
                            <value>14</value>
                            <newvalue>Hot Standby</newvalue>
                        </mapping>
                        <mapping>
                            <value>15</value>
                            <newvalue>On Battery Test</newvalue>
                        </mapping>
                        <mapping>
                            <value>16</value>
                            <newvalue>Emergency Static Bypass</newvalue>
                        </mapping>
                        <mapping>
                            <value>17</value>
                            <newvalue>Static Bypass Standby</newvalue>
                        </mapping>
                        <mapping>
                            <value>18</value>
                            <newvalue>Power Saving Mode</newvalue>
                        </mapping>
                        <mapping>
                            <value>19</value>
                            <newvalue>Spot Mode</newvalue>
                        </mapping>
                        <mapping>
                            <value>20</value>
                            <newvalue>E-Conversion</newvalue>
                        </mapping>
                        <mapping>
                            <value>21</value>
                            <newvalue>Charger Spotmode</newvalue>
                        </mapping>
                        <mapping>
                            <value>22</value>
                            <newvalue>Inverter Spotmode</newvalue>
                        </mapping>
                        <mapping>
                            <value>23</value>
                            <newvalue>Active Load</newvalue>
                        </mapping>
                        <mapping>
                            <value>24</value>
                            <newvalue>Battery Discharge Spotmode</newvalue>
                        </mapping>
                        <mapping>
                            <value>25</value>
                            <newvalue>Inverter Standby</newvalue>
                        </mapping>
                        <mapping>
                            <value>26</value>
                            <newvalue>Charger Only</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>781c568d935d40f2a43951488cf2e046</uuid>
                    <name>zabbix.host.available</name>
                    <mappings>
                        <mapping>
                            <value>0</value>
                            <newvalue>not available</newvalue>
                        </mapping>
                        <mapping>
                            <value>1</value>
                            <newvalue>available</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>unknown</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>b0959bdb606542bcb2952e820ac972c9</uuid>
            <expression>(last(/Certa UPS by SNMP/system.hw.uptime[hrSystemUptime.0])&gt;0 and last(/Certa UPS by SNMP/system.hw.uptime[hrSystemUptime.0])&lt;10m)
or (last(/Certa UPS by SNMP/system.hw.uptime[hrSystemUptime.0])=0 and last(/Certa UPS by SNMP/system.net.uptime[sysUpTime.0])&lt;10m)</expression>
            <name>Host has been restarted</name>
            <event_name>{HOST.NAME} has been restarted (uptime &lt; 10m)</event_name>
            <priority>WARNING</priority>
            <description>Uptime is less than 10 minutes.</description>
            <manual_close>YES</manual_close>
            <dependencies>
                <dependency>
                    <name>No SNMP data collection</name>
                    <expression>max(/Certa UPS by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0</expression>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>scope</tag>
                    <value>notice</value>
                </tag>
            </tags>
        </trigger>
    </triggers>
    <graphs>
        <graph>
            <uuid>2f54cf3da7be49108736e46afe0b5904</uuid>
            <name>APC UPS: Capacity of the UPS batteries</name>
            <type>PIE</type>
            <graph_items>
                <graph_item>
                    <color>199C0D</color>
                    <item>
                        <host>Certa UPS by SNMP</host>
                        <key>battery.capacity[upsHighPrecBatteryCapacity]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>d4b2320e0515407cb32afa388f91cd29</uuid>
            <name>APC UPS: Output</name>
            <graph_items>
                <graph_item>
                    <color>199C0D</color>
                    <item>
                        <host>Certa UPS by SNMP</host>
                        <key>output.current[upsHighPrecOutputCurrent]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Certa UPS by SNMP</host>
                        <key>output.load[upsHighPrecOutputLoad]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>4988c266dc15493592112371b061f9e2</uuid>
            <name>APC UPS: Voltage</name>
            <graph_items>
                <graph_item>
                    <color>199C0D</color>
                    <item>
                        <host>Certa UPS by SNMP</host>
                        <key>input.voltage[upsHighPrecInputLineVoltage]</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>F63100</color>
                    <item>
                        <host>Certa UPS by SNMP</host>
                        <key>output.voltage[upsHighPrecOutputVoltage]</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
